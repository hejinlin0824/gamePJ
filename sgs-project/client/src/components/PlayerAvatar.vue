<script setup>
// æ¥æ”¶çˆ¶ç»„ä»¶ä¼ æ¥çš„å±æ€§
defineProps({
  player: Object,      // ç©å®¶æ•°æ®å¯¹è±¡
  isCurrent: Boolean,  // æ˜¯å¦æ˜¯å½“å‰å›åˆ
  isSelected: Boolean, // æ˜¯å¦è¢«é€‰ä¸­ï¼ˆä½œä¸ºæ”»å‡»ç›®æ ‡ï¼‰
  isMe: Boolean        // æ˜¯å¦æ˜¯è‡ªå·±
});
</script>

<template>
  <div 
    class="avatar" 
    :class="{ 
      'current-turn': isCurrent, 
      'selected': isSelected, 
      'is-me': isMe 
    }"
  >
    <div class="role-img">
      {{ player.seat_id }}å·
    </div>
    
    <div class="info">
      <div class="hp-bar">â¤ï¸ {{ player.hp }}</div>
      <div class="cards-icon">ğŸ´ {{ player.card_count }}</div>
    </div>
    
    <div v-if="isSelected" class="target-mark">ğŸ¯ ç›®æ ‡</div>
    
    <div v-if="isMe" class="me-mark">æˆ‘</div>
  </div>
</template>

<style scoped>
.avatar {
  width: 80px;
  height: 100px;
  background: #34495e; /* æ·±è“ç°è‰²èƒŒæ™¯ */
  border: 2px solid #555;
  border-radius: 8px;
  display: flex;
  flex-direction: column;
  position: relative;
  cursor: pointer;
  transition: all 0.2s;
  user-select: none;
}

.avatar:hover { 
  border-color: #aaa; 
  transform: translateY(-2px);
}

/* å½“å‰å›åˆç©å®¶ï¼šç»¿è‰²å‘¼å¸ç¯æ•ˆæœ */
.current-turn { 
  border-color: #2ecc71; 
  box-shadow: 0 0 15px rgba(46, 204, 113, 0.5); 
}

/* è¢«é€‰ä¸­ä¸ºç›®æ ‡ï¼šçº¢è‰²é«˜äº® */
.selected { 
  border-color: #e74c3c; 
  background: #522; 
  transform: scale(1.1); 
  z-index: 10;
}

/* è‡ªå·±ï¼šè“è‰²è¾¹æ¡† */
.is-me {
  border-color: #3498db;
}

.role-img { 
  flex: 1; 
  display: flex; 
  align-items: center; 
  justify-content: center; 
  font-size: 1.5em; 
  font-weight: bold; 
  color: #fff; 
}

.info { 
  background: rgba(0,0,0,0.6); 
  padding: 4px; 
  font-size: 0.8em; 
  color: white;
  border-bottom-left-radius: 6px;
  border-bottom-right-radius: 6px;
  display: flex;
  justify-content: space-between;
}

.target-mark {
  position: absolute; 
  top: -10px; 
  right: -10px;
  background: #c0392b; 
  color: white; 
  padding: 2px 6px; 
  border-radius: 4px; 
  font-size: 0.7em;
  font-weight: bold;
  box-shadow: 0 2px 4px rgba(0,0,0,0.5);
}

.me-mark {
  position: absolute;
  top: -10px;
  left: -10px;
  background: #2980b9;
  color: white;
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 0.7em;
}
</style>